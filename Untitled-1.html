<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sagitta et Arcus</title>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Bluu+Next:wght@700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="container">
      <div class="logo">
        <img src="Asset 3@2x.png" alt="Sagitta et Arcus Logo" height="168" />
      </div>
      <nav>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">Agenda</a></li>
          <li><a href="#">Nieuws</a></li>
          <li><a href="#">Lid worden</a></li>
          <li><a href="#">Over ons</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- BANNER 
    /*<section class="banner">
    <div class="container">
    </div>
  </section> -->


  <!-- NIEUWS -->
  <section class="nieuws">
    <div class="container nieuws-grid">
      <div class="nieuws-item" id="nieuws1"></div>
      <div class="nieuws-item" id="nieuws2"></div>
      <div class="nieuws-item" id="nieuws3"></div>
    </div>
  </section>


  <!-- OVER ONS -->
  <section class="about">
    <div class="container">
      <h2>Over Sagitta et Arcus</h2>
      <p>
        Een kleine verandering voor een commit/push test. 
      </p>
      <p>
        Sagitta et Arcus is eind jaren 80 opgericht in Nijverdal. Zie knipsels van Bert Zieleman. SagittaEtArcus_historie. De vereniging heeft als doelstelling om de handboogsport in al zijn aspecten te bevorderen. Wij zijn aangesloten bij de Nederlandse Handboog Bond (NHB) wat ons de mogelijkheid biedt om aan landelijke wedstrijden deel te nemen. Meer informatie over Sagitta et Arcus vindt u hier!
      </p>
      <div class="image-box">
        <img src="Untxdfghnitled.png" alt="Over ons afbeelding" />
      </div>
    </div>
  </section>

  <!-- AGENDA -->
  <section class="agenda">
    <h2 class="nieuws">Agenda</h2>
    <div class="container agenda-grid">
      <div id="agenda-item" class="agenda-item"></div>
      <div id="agenda-item" class="agenda-item"></div>
      <div id="agenda-item" class="agenda-item"></div>
      <div id="agenda-item" class="agenda-item"></div>
    </div>
  </section>



  <!-- SPONSOREN -->
  <section class="sponsoren">
    <div class="container">
      <h2>Sponsoren</h2>
      <!-- Logo’s of blokken voor sponsoren -->
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <div class="footer-logo">
        <img src="war4ye.png" alt="Sagitta et Arcus Logo" height="168" />
      </div>
      <div class="footer-links">
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">Nieuws</a></li>
          <li><a href="#">Agenda</a></li>
          <li><a href="#">Over ons</a></li>
          <li><a href="#">Lid worden</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
      <div class="footer-socials">
        <p>Socials</p>
        <!-- Social media icons of links hier -->
      </div>
      <div class="copyright">
        <p>Copyright © 2025 Sagitta et Arcus</p>
      </div>
    </div>
  </footer>

   <script>
    async function laadNieuws() {
      let url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTVxjCCPTognHnuuX9xZAJFBSDl4NtPNHC51MRDaL3pdG0pMzC_y9qLllIxyQeRidh28evRzIsBUjJ3/pub?gid=0&single=true&output=csv"; 
      let response = await fetch(url);
      let data = await response.text();

      let rows = data.split("\n").slice(1); 
      rows.forEach((row, i) => {
        let [titel, tekst] = row.split(",");
        if (titel && tekst && i < 3) {
          document.getElementById(`nieuws${i+1}`).innerHTML = `<h3>${titel}</h3><p>${tekst}</p>`;
        }
      });
    }



    async function laadAgenda() {
      let url = "https://calendar.google.com/calendar/ical/william17maas10%40gmail.com/public/basic.ics"; // jouw publieke iCal link
      let response = await fetch(url);
      let data = await response.text();

      let events = data.split("BEGIN:VEVENT").slice(1);
      let parsedEvents = events.map(event => {
        let dateMatch = event.match(/DTSTART.*:(\d{8}T\d{6}Z?)/);
        let summaryMatch = event.match(/SUMMARY:(.*)/);

        let date = dateMatch ? dateMatch[1] : "";
        let title = summaryMatch ? summaryMatch[1] : "";

        if (date.length >= 8) {
          let jaar = date.substring(0,4);
          let maand = date.substring(4,6);
          let dag = date.substring(6,8);
          date = `${dag}-${maand}-${jaar}`;
        }

        return { date, title };
      });

      let upcoming = parsedEvents.filter(e => e.date).slice(0,4);

      upcoming.forEach((e, i) => {
        document.getElementById(`agenda${i+1}`).innerHTML = `<h3>${e.date}</h3><p>${e.title}</p>`;
      });
    }

    // Beide functies aanroepen
    laadNieuws();
    laadAgenda();
  </script>


</body>
</html>
